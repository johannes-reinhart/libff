#include <libff/algebra/curves/jubjub_bn254/jubjub_bn254_fields.hpp>

namespace libff {

bigint<jubjub_bn254_r_limbs> jubjub_bn254_modulus_r;
bigint<jubjub_bn254_q_limbs> jubjub_bn254_modulus_q;

void init_jubjub_bn254_fields()
{
    using bigint_r = bigint<jubjub_bn254_r_limbs>;
    using bigint_q = bigint<jubjub_bn254_q_limbs>;

    assert(sizeof(mp_limb_t) == 8 || sizeof(mp_limb_t) == 4); // Montgomery assumes this

    /* parameters for scalar field Fr */

    jubjub_bn254_modulus_r = bigint_r("2736030358979909402780800718157159386076813972158567259200215660948447373041");
    assert(jubjub_bn254_Fr::modulus_is_valid());
    if (sizeof(mp_limb_t) == 8)
    {
        jubjub_bn254_Fr::Rsquared = bigint_r("1932414053906531050938999051622903410247027166288844946833223180670942884382");
        jubjub_bn254_Fr::Rcubed = bigint_r("1224176544886159564763585983611734194901200707224654049310667671443304709153");
        jubjub_bn254_Fr::inv = 0x532ce5aebc48f5ef;
    }
    if (sizeof(mp_limb_t) == 4)
    {
        jubjub_bn254_Fr::Rsquared = bigint_r("1932414053906531050938999051622903410247027166288844946833223180670942884382");
        jubjub_bn254_Fr::Rcubed = bigint_r("1224176544886159564763585983611734194901200707224654049310667671443304709153");
        jubjub_bn254_Fr::inv = 0xbc48f5ef;
    }
    jubjub_bn254_Fr::num_bits = 251;
    jubjub_bn254_Fr::euler = bigint_r("1368015179489954701390400359078579693038406986079283629600107830474223686520");
    jubjub_bn254_Fr::s = 4;
    jubjub_bn254_Fr::t = bigint_r("171001897436244337673800044884822461629800873259910453700013478809277960815");
    jubjub_bn254_Fr::t_minus_1_over_2 = bigint_r("85500948718122168836900022442411230814900436629955226850006739404638980407");
    jubjub_bn254_Fr::multiplicative_generator = jubjub_bn254_Fr("31");
    jubjub_bn254_Fr::root_of_unity = jubjub_bn254_Fr("660854635938548466034658205324789272997681163813030924457091119852551226483");
    jubjub_bn254_Fr::nqr = jubjub_bn254_Fr("19");
    jubjub_bn254_Fr::nqr_to_t = jubjub_bn254_Fr("1650940936937007263065728440978811128351873528643795822019868082188372999179");

    /* parameters for base field Fq */

    jubjub_bn254_modulus_q = bigint_q("21888242871839275222246405745257275088548364400416034343698204186575808495617");
    assert(jubjub_bn254_Fq::modulus_is_valid());
    if (sizeof(mp_limb_t) == 8)
    {
        jubjub_bn254_Fq::Rsquared = bigint_q("944936681149208446651664254269745548490766851729442924617792859073125903783");
        jubjub_bn254_Fq::Rcubed = bigint_q("5866548545943845227489894872040244720403868105578784105281690076696998248512");
        jubjub_bn254_Fq::inv = 0xc2e1f593efffffff;
    }
    if (sizeof(mp_limb_t) == 4)
    {
        jubjub_bn254_Fq::Rsquared = bigint_q("944936681149208446651664254269745548490766851729442924617792859073125903783");
        jubjub_bn254_Fq::Rcubed = bigint_q("5866548545943845227489894872040244720403868105578784105281690076696998248512");
        jubjub_bn254_Fq::inv = 0xefffffff;
    }
    jubjub_bn254_Fq::num_bits = 254;
    jubjub_bn254_Fq::euler = bigint_q("10944121435919637611123202872628637544274182200208017171849102093287904247808");
    jubjub_bn254_Fq::s = 28;
    jubjub_bn254_Fq::t = bigint_q("81540058820840996586704275553141814055101440848469862132140264610111");
    jubjub_bn254_Fq::t_minus_1_over_2 = bigint_q("40770029410420498293352137776570907027550720424234931066070132305055");
    jubjub_bn254_Fq::multiplicative_generator = jubjub_bn254_Fq("5");
    jubjub_bn254_Fq::root_of_unity = jubjub_bn254_Fq("19103219067921713944291392827692070036145651957329286315305642004821462161904");
    jubjub_bn254_Fq::nqr = jubjub_bn254_Fq("5");
    jubjub_bn254_Fq::nqr_to_t = jubjub_bn254_Fq("19103219067921713944291392827692070036145651957329286315305642004821462161904");

    /* parameters for twist field Fq3 */

    jubjub_bn254_Fq3::euler = bigint<3*jubjub_bn254_q_limbs>("5243275785689213909452566538728752987467005423211844546790160609713708287882172385280260329988869139968253297114021247831974048970435418811541503405158254012718107184932180834445056173809628827544181721862141427465540358484525056");
    jubjub_bn254_Fq3::s = 28;
    jubjub_bn254_Fq3::t = bigint<3*jubjub_bn254_q_limbs>("39065448833176597278211761554544813837610225552408729097173814547909112929419967422487291172063865810396174319937983511626527078229452809777420039513396129106865131742746985215284348829162335601033134176300029661249670077");
    jubjub_bn254_Fq3::t_minus_1_over_2 = bigint<3*jubjub_bn254_q_limbs>("19532724416588298639105880777272406918805112776204364548586907273954556464709983711243645586031932905198087159968991755813263539114726404888710019756698064553432565871373492607642174414581167800516567088150014830624835038");
    jubjub_bn254_Fq3::non_residue = jubjub_bn254_Fq("5");
    jubjub_bn254_Fq3::nqr = jubjub_bn254_Fq3(jubjub_bn254_Fq("5"),jubjub_bn254_Fq("0"),jubjub_bn254_Fq("0"));
    jubjub_bn254_Fq3::nqr_to_t = jubjub_bn254_Fq3(jubjub_bn254_Fq("8260134086525330796783720878670489008963513700690479207580203726027757261996"),jubjub_bn254_Fq("0"),jubjub_bn254_Fq("0"));
    jubjub_bn254_Fq3::Frobenius_coeffs_c1[0] = jubjub_bn254_Fq("1");
    jubjub_bn254_Fq3::Frobenius_coeffs_c1[1] = jubjub_bn254_Fq("4407920970296243842393367215006156084916469457145843978461");
    jubjub_bn254_Fq3::Frobenius_coeffs_c1[2] = jubjub_bn254_Fq("21888242871839275217838484774961031246154997185409878258781734729429964517155");
    jubjub_bn254_Fq3::Frobenius_coeffs_c2[0] = jubjub_bn254_Fq("1");
    jubjub_bn254_Fq3::Frobenius_coeffs_c2[1] = jubjub_bn254_Fq("21888242871839275217838484774961031246154997185409878258781734729429964517155");
    jubjub_bn254_Fq3::Frobenius_coeffs_c2[2] = jubjub_bn254_Fq("4407920970296243842393367215006156084916469457145843978461");

    /* parameters for Fq6 */

    jubjub_bn254_Fq6::euler = bigint<6*jubjub_bn254_q_limbs>("54983881929589686859421330580436722065097639980665464769943295233390217815279566161689514968125514821778030947520523688430251381177616589341059196775713912610496014057608742491821348528853200848509120809850128608814840031682776082795071555559009491812502201596650088395327129326095542722129728946850191618467794851775231779354567217839385962873485124813941246309447645062912440399602650480570453670765889378890538389717264848384555268462703521449968752656384");
    jubjub_bn254_Fq6::s = 29;
    jubjub_bn254_Fq6::t = bigint<6*jubjub_bn254_q_limbs>("204830921924075807852377483920889802519595771955942603833762166028433359471259885138606708378067295334406312359573407800608319719052376558412086951642162772307157568848165655478169577303726974310387375987507882002051323770294994424265144599821453883545481419550814063829657172136364663847274068544992028245582412376162528169730928606686688821291495579533060067554740775610925407706210950317123732234410529505053678116639200033189934747154651289619389");
    jubjub_bn254_Fq6::t_minus_1_over_2 = bigint<6*jubjub_bn254_q_limbs>("102415460962037903926188741960444901259797885977971301916881083014216679735629942569303354189033647667203156179786703900304159859526188279206043475821081386153578784424082827739084788651863487155193687993753941001025661885147497212132572299910726941772740709775407031914828586068182331923637034272496014122791206188081264084865464303343344410645747789766530033777370387805462703853105475158561866117205264752526839058319600016594967373577325644809694");
    jubjub_bn254_Fq6::non_residue = jubjub_bn254_Fq("5");
    jubjub_bn254_Fq6::nqr = jubjub_bn254_Fq6(jubjub_bn254_Fq3(jubjub_bn254_Fq("6"),jubjub_bn254_Fq("0"),jubjub_bn254_Fq("0")),jubjub_bn254_Fq3::one());
    jubjub_bn254_Fq6::nqr_to_t = jubjub_bn254_Fq6(jubjub_bn254_Fq3::zero(),jubjub_bn254_Fq3(jubjub_bn254_Fq("0"),jubjub_bn254_Fq("5639393173262251165477447499874546420472857787088337169548744233193826037510"),jubjub_bn254_Fq("0")));
    jubjub_bn254_Fq6::Frobenius_coeffs_c1[0] = jubjub_bn254_Fq("1");
    jubjub_bn254_Fq6::Frobenius_coeffs_c1[1] = jubjub_bn254_Fq("4407920970296243842393367215006156084916469457145843978462");
    jubjub_bn254_Fq6::Frobenius_coeffs_c1[2] = jubjub_bn254_Fq("4407920970296243842393367215006156084916469457145843978461");
    jubjub_bn254_Fq6::Frobenius_coeffs_c1[3] = jubjub_bn254_Fq("21888242871839275222246405745257275088548364400416034343698204186575808495616");
    jubjub_bn254_Fq6::Frobenius_coeffs_c1[4] = jubjub_bn254_Fq("21888242871839275217838484774961031246154997185409878258781734729429964517155");
    jubjub_bn254_Fq6::Frobenius_coeffs_c1[5] = jubjub_bn254_Fq("21888242871839275217838484774961031246154997185409878258781734729429964517156");
    jubjub_bn254_Fq6::my_Fp2::non_residue = jubjub_bn254_Fq3::non_residue;
}

} // namespace libff
